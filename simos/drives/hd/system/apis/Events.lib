#!/bin/bash
# Events.lib - The API for interacting with the SimulOS Event system
# Requires FileSystem.
# Only the last event received will be kept.

programName="$1"

return=""

# Send an event to another program.
function sendEvent() {
  open tmp/event_$1.evt
  local eventFile=return
  write eventFile $2
}

# Returns the last event from the Event file in the first argument.
function receiveEvent() {
  open tmp/event_$1.evt
  local eventFile=return
  readLine eventFile
  return=return
  rm $eventFile
}
